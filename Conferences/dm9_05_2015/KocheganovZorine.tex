\documentclass[10pt]{beamer}
\usepackage[T2A]{fontenc}
\usepackage[russian]{babel}
\usepackage{amsmath}

\usepackage{beton}

\usepackage{tikz}
\usepackage[russian]{babel}
\usepackage[utf8]{inputenc}



\defbeamertemplate{footline}{centered page number}
{%
  \hspace*{\fill}%
  \usebeamercolor[fg]{page number in head/foot}%
  \usebeamerfont{page number in head/foot}%
  \insertpagenumber\,/\,\insertpresentationendpage%
  \hspace*{\fill}\vskip2pt%
}
\setbeamertemplate{footline}[centered page number]

\mode<presentation>{
%  \usetheme{Madrid}
  \usetheme{AnnArbor}
  \usefonttheme{serif}
}

%\setbeamertemplate{frametitle continuation}[from second]

\author[В.М. Кочеганов, А.В. Зорин]{\textbf{В.М. Кочеганов}, А.В. Зорин}
\title[Дискретная модель колебания ...]%
{ДИСКРЕТНАЯ МОДЕЛЬ КОЛЕБАНИЯ ДЛИНЫ НИЗКОПРИОРИТЕТНОЙ ОЧЕРЕДИ В~ТАНДЕМЕ СИСТЕМ ОБСЛУЖИВАНИЯ ПРИ~ЦИКЛИЧЕСКОМ АЛГОРИТМЕ С~ПРОДЛЕНИЕМ}
\institute[ННГУ]{\normalsize Нижегородский
  государственный университет \\  им. Н.И. Лобачевского}
\date[20-22.05.2015]{
Дискретные модели в теории управляющих систем\\
(Москва и Подмосковье)}


\newcommand{\backupbegin}{

   \newcounter{framenumberappendix}
   \setcounter{framenumberappendix}{\value{framenumber}}
}
\newcommand{\backupend}{
   \addtocounter{framenumberappendix}{-\value{framenumber}}
   \addtocounter{framenumber}{\value{framenumberappendix}} 
}

\begin{document}

\begin{frame}
  \maketitle
\end{frame}

\begin{frame}{Содержательная постановка задачи}
  \begin{figure}[h]
    \centering
    \pgfimage[height=5cm]{Crossroads}
    \caption{Тандем перекрёстков}
    \label{VK:fig:1}
  \end{figure}
\end{frame}

\begin{frame}{Тандем перекрестков как управляющая СМО}
  \begin{figure}[h]
    \centering
    \pgfimage[height=6cm]{SystemScheme}
    \caption{Структурная схема системы массового обслуживания}
    \label{VK:fig:2}
  \end{figure}
\end{frame}

\begin{frame}{Параметры системы}


Входные потоки $\Pi_1$ и $\Pi_3$ --- \textbf{неординарные пуассоновские} потоки групп требований с интенсивностями $\lambda_1$ и $\lambda_3$ соответственно. 

Распределение числа заявок в группе по потоку $\Pi_j$, $j\in \{1,3\}$, имеет \textbf{производящую функцию}:
$$
f_j(z) = \sum_{\nu=1}^{\infty} p_{\nu}^{(j)} z ^{\nu}, \quad |z|<(1+\varepsilon), \varepsilon>0.
$$

Пусть обслуживающее устройство находится в состоянии $\Gamma^{(k,r)}$. Тогда время нахождения в этом состоянии неслучайно и равно $T^{(k,r)}$. Количество требований, пришедших за это время по потоку насыщения $\Pi^{\mbox{\scriptsize{нас}}}_j$, равно $\ell(k,r,j)$. 

\end{frame}

\begin{frame}[allowframebreaks]{Кибернетический подход}
\begin{block}{}
Представлен, например, в следующих работах:
\begin{itemize}
\item Яблонский~С.~В. Основные понятия кибернетики / С.~В.~Яблонский // Проблемы кибернетики. Вып. 2. М.: Физматгиз. 1959. С.~7--38.
  \item Ляпунов~A.~А. Теоретические проблемы кибернетики / А.~А.~Ляпунов, С.~В.~Яблонский // Проблемы кибернетики. Вып.~9. М.: Физматгиз. 1963. С.~5--22
\item Федоткин~М.~А. Процессы обслуживания и управляющие системы / М.~А.~Федоткин //  Математические проблемы кибернетики. Вып. 6. М.: Наука. 1996. С.~51--70.
\item Зорин~А.~В. Оптимизация управления дважды стохастическими неординарными потоками в системах с разделением времени / А.~В.~Зорин, М.~А.~Федоткин. // Автоматика и телемеханика. \No~7, 2005. С.~102--111.
\end{itemize}
\end{block}

  \framebreak

Основные принципы кибернетического подхода:
  \begin{enumerate}
  \item \textbf{принцип дискретности} актов функционирования управляющей системы обслуживания во времени;
    \item \textbf{принцип совместного
    рассмотрения} поблочного строения управляющей системы
    обслуживания и ее функционирования во времени.
  \item \textbf{принцип нелокальности} при описании поблочного
    строения управляющей системы обслуживания;
  \end{enumerate}
  \framebreak
  
Выбор моментов наблюдения
   \begin{figure}[h]
    \centering
    \pgfimage[height=2cm]{timings}
    \caption{Шкала моментов наблюдения}
    \label{AZ:fig:3}
  \end{figure}

\framebreak

Основными составляющими кибернетической системы являются:
  \begin{itemize}
  \item \textbf{схема}
  \begin{itemize}
      \item внешняя среда
      \item входные и выходные полюса
      \item внутренняя и внешняя память
      \item устройства по переработке информации во внутренней и внешней памяти
      \end{itemize}
  \item \textbf{информация} --- набор состояний среды, очередей в накопителях, обслуживающего устройства, потоков насыщения и потоков обслуженных требований
  \item \textbf{координата} блока --- номер блока на схеме
  \item \textbf{функция} --- обслуживание потоков по заданному алгоритму
  \end{itemize}

\end{frame}

\begin{frame}{Кодирование информации}
Пусть $Z_+$~--- множество целых неотрицательных чисел.
  \begin{itemize}
  \item $\{e^{(1)}\}$~--- множество состояний \textbf{внешней среды} (одно состояние)
  \item $Z_+^4$~--- множество состояний \textbf{входных полюсов}
  \item $Z_+^4$~--- множество состояний \textbf{выходных полюсов}
  \item $\Gamma=\{\Gamma^{(k,r)} \colon k=0,1,\ldots,d; r=1,2,\ldots n_k\}$~--- множество состояний \textbf{внутренней памяти}
  \item $Z_+^4$~--- множество состояний \textbf{внешней памяти}
  \item $\{r^{(1)}\}$~--- множество состояний \textbf{устройства по переработке информации во внешней памяти} (одно состояние)
  \item граф переходов (будет описан ниже) описывает \textbf{устройство по переработке информации во внутренней памяти}
  \end{itemize}
\end{frame}

\begin{frame}{Необходимые случайные величины}
  \begin{itemize}
    \item $\tau_i \in {\mathbb R}_+$, $i=0$, $1$, \ldots --- момент смены состояния
    обслуживающего утройства;
    \item $\eta_{j,i} \in Z_+$ --- число требований потока $\Pi_j$, поступивших за
    промежуток $(\tau_i, \tau_{i+1}]$;
    \item $\xi_{j,i} \in Z_+$ --- число требований потока насыщения $\Pi^{\mbox{\scriptsize{нас}}}_j$ на промежутке $(\tau_i, \tau_{i+1}]$;
    \item $\varkappa_{j,i} \in Z_+$ --- число требований в
    очереди $O_j$ в момент $\tau_i$;
  \item $\Gamma_i\in\Gamma$ --- состояние обслуживающего устройства в момент $\tau_i$;
  \item $\overline{\xi}_{j,i} \in Z_+$ --- число требований
    выходного потока $\Pi^{\mbox{\scriptsize{вых}}}_j$ на промежутке
    $(\tau_i, \tau_{i+1}]$,
  \end{itemize}
  для $j=1$,  $2$, $3$, $4$.
\end{frame}

\begin{frame}[allowframebreaks]{Граф переходов}
 Изменение состояний обслуживающего устройства: $\Gamma_{i+1}=h(\Gamma_i,\varkappa_{3,i})$.
   \begin{figure}[h]
    \centering
    \pgfimage[height=4.5cm]{SystemStates}
    \caption{Числовой пример. Времена}
    \label{VK:fig:3}
  \end{figure}
   \begin{figure}[h]
    \centering
    \pgfimage[height=6cm]{GraphScheme3}
    \caption{Числовой пример. Граф переходов (отображение $h(\cdot,\cdot)$).}
    \label{VK:fig:3}
  \end{figure}


  \framebreak
  Таким образом, $$\Gamma = \bigl( \bigcup_{k=1}^d C_k \bigr) \bigcup \{\Gamma^{(0,1)}, \Gamma^{(0,2)}, \ldots, \Gamma^{(0,n_0)}\}, \quad C_k = C_k^{\mathrm{I}} \cup C_k^{\mathrm{O}}  \cup C_k^{\mathrm{N}}.$$
  \begin{equation*}
h(\Gamma^{(k,r)},y) = 
\begin{cases}
\Gamma^{(k,r\oplus_k 1)},& \quad \text{ если } \Gamma^{(k,r)}\in C_k\setminus C_k^{\mathrm{O}};\\
\Gamma^{(k,r\oplus_k 1)},& \quad \text{ если } \Gamma^{(k,r)}\in C_k^{\mathrm{O}} \text{ и } y>L;\\
\Gamma^{(0,h_1(\Gamma^{(k,r)}))},& \quad \text{ если } \Gamma^{(k,r)}\in C_k^{\mathrm{O}} \text{ и } y\leqslant L;\\
\Gamma^{(0,h_2(r))},& \quad \text{ если } k=0 \text{ и } y\leqslant L;\\
h_3(r),& \quad \text{ если } k=0 \text{ и } y > L.
\end{cases}
\end{equation*}
где 
$$h_1(\cdot)\colon \bigcup_{k=1}^d C_k^{\mathrm{O}}\to N_0, \quad h_2(\cdot)\colon N_0\to N_0, \quad h_3(\cdot)\colon N_0 \to\bigcup_{k=1}^d C_k^{\mathrm{I}},$$ и $N_0=\{1,2, \ldots, n_0\}$.
\end{frame}

\begin{frame}{Рекуррентные соотношения}
Функционирование системы подчиняется следующим функциональным соотношениям:
\begin{equation}
\begin{aligned}
\overline{\xi}_{j,i}&=\min\{\varkappa_{j,i}+\eta_{j,i},\xi_{j,i}\}, \quad & j\in \{1,2,3\},\\
\varkappa_{j,i+1}&=\varkappa_{j,i}+\eta_{j,i}-\overline{\xi}_{j,i}, \quad & j\in \{1,2,3\},\\
\varkappa_{j,i+1}&=\max\{{0,\varkappa_{j,i}+\eta_{j,i}-\xi_{j,i}}\}, \quad & j\in \{1,2,3\},\\
\varkappa_{4,i+1}&=\varkappa_{4,i}+\eta_{4,i}-\eta_{2,i}, \quad &\\
\xi_{4,i} & = \varkappa_{4,i}, & \\
\eta_{4,i} & = \min\{ \varkappa_{1,i} + \eta_{1,i}, \xi_{1,i}\}.
\end{aligned}
\label{rekk}
\end{equation}
\end{frame}

\begin{frame}[allowframebreaks]{Свойства условных распределений}
Определим функции $\varphi_j(\cdot,\cdot)$, $j\in \{1,3\}$, и $\psi(\cdot, \cdot, \cdot)$ из разложений:
\begin{equation*}
\sum_{\nu=0}^{\infty} z^\nu\varphi_j(\nu,t) = \exp\{\lambda_j t (f_j(z)-1)\}, \quad \psi(k;y,u)=C_y^k u^k (1-u)^{y-k}.	
\end{equation*}

Пусть $a=(a_1, a_2, a_3, a_4) \in \mathbb{Z}_+^4$ и $x=(x_1, x_2, x_3, x_4) \in \mathbb{Z}_+^4$.
%\begin{block}{Предположение 1}

Тогда вероятность $\varphi(a,k,r,x)$ одновременного выполнения равенств $\eta_{1,i}=a_1$, $\eta_{2,i}=a_2$, $\eta_{3,i}=a_3$, $\eta_{4,i}=a_4$ при условии  $\nu_i=(\Gamma{(k,r)}; x)$ есть 
\begin{equation}
\!\!\varphi_1(a_1,h_T(\Gamma^{({k},{r})},x_3)) \times \psi(a_2,x_4, p_{\tilde{k},\tilde{r}}) \times \varphi_3(a_3,h_T(\Gamma^{({k},{r})},x_3))
\times \delta_{a_4,\min{\{\ell(\tilde{k},\tilde{r},1), x_1+a_1}\}},
\end{equation}
%\end{block}
где
\begin{equation*}
\Gamma^{(\tilde{k},\tilde{r})}=h(\Gamma^{(k,r)},x_3), \quad \delta_{i,j}=\begin{cases} 1, \quad \text{ если }i=j\\0, \quad \text{ если } i\neq j,
\end{cases}.
\end{equation*}
и 
$$
T_{i+1}=h_T(\Gamma_i,\varkappa_{3,i})= T^{(k,r)},\quad  \Gamma^{(k,r)}=\Gamma_{i+1}=h(\Gamma_i,\varkappa_{3,i}).
$$
\framebreak

Пусть $b=(b_1, b_2, b_3, b_4) \in \mathbb{Z}_+^4$. 

Тогда вероятность $\zeta(b, k, r, x)$ одновременного выполнения равенств $\xi_{1,i}=b_1$, $\xi_{2,i}=b_2$, $\xi_{3,i}=b_3$, $\xi_{4,i}=b_4$ при фиксированном значении метки $\nu_i=(\Gamma{(k,r)}; x)$ есть
\begin{equation}
\delta_{b_1,\ell(\tilde{k},\tilde{r},1)} \times \delta_{b_2,\ell(\tilde{k},\tilde{r},2)} \times 
\delta_{b_3,\ell(\tilde{k},\tilde{r},3)} \times \delta_{b_4,x_4}.
\end{equation}
где $\tilde{k}$ и $\tilde{r}$ такие, что $\Gamma^{(\tilde{k},\tilde{r})}=h(\Gamma^{(k,r)},x_3)$.
\end{frame}



\begin{frame}[allowframebreaks]{Полученные результаты}

\begin{block}
    {\bf Теорема 1.} {\it 
    Пусть $$\Gamma_0=\Gamma^{(k_0,r_0)} \in \Gamma,  \varkappa_{3,0}=x_3\in \mathbb{Z}_+$$ фиксированы. 
    
    Тогда последовательность $$\{(\Gamma_i, \varkappa_{3,i}); i \geqslant 0\}$$ является счетной цепью Маркова.}
\end{block}
\begin{block}
    {\bf Теорема 2.}{\it Пусть 
    $$x_3, \tilde{x}_3~\in \mathbb{Z}_+, \quad \Gamma^{(k,r)}\in \Gamma, \Gamma^{(\tilde{k},\tilde{r})}= h(\Gamma^{(k,r)},x_3).$$ Тогда условная вероятность 
$${\mathbf P}(\{\Gamma_{i+1}=\Gamma^{(\tilde{k},\tilde{r})},\varkappa_{3,i+1}=\tilde{x}_3\}|\{\Gamma_{i}=\Gamma^{(k,r)},\varkappa_{3,i}=x_3\})$$ равна
$$\delta_{\tilde{x}_3,0}\!\sum_{a=0}^{\ell(\tilde{k},\tilde{r},3)-x} \varphi_3(a,h_T(\Gamma^{(k,r)},x_3)) + (1-\delta_{\tilde{x}_3,0}) \varphi_3(\tilde{x}_3 + \ell(\tilde{k},\tilde{r},3)-x_3,h_T(\Gamma^{(k,r)},x_3)).$$}
\end{block}

\framebreak
\begin{block}
    {\bf Теорема 3.}{\it Пусть для $r=\overline{1,n_0}$ определено множество $$S^3_{0,r} =\bigl\{(\Gamma^{(0,r)},x_3)  \colon x_3\in Z_+,  L \geqslant x_3 > L - \max\bigl\{\sum_{t=0}^{n_k} \ell_{k,t,3}\colon k=\overline{1,d}\bigr\}\,\bigr\}
$$ и  для $k=\overline{1,d}$, $r=\overline{1,n_k}$ обозначено $$S^3_{k,r} =  \{(\Gamma^{(k,r)},x_3) \colon x_3\in Z_+, x_3 > L - \sum_{t=0}^{r-1} \ell_{k,t,3}\}.$$ Тогда множество существенных состояний марковской цепи $\{(\Gamma_i, \varkappa_{3,i}); i \geqslant 0\}$ есть $$S=\bigcup_{k=0}^d \bigl(\bigcup_{r=1}^{n_k} S^3_{k,r}\bigr).$$}
\end{block}
\end{frame}




\appendix
\section{Приложение}
\backupbegin



\begin{frame}[allowframebreaks]{Идея построения вероятностного пространства}
\textbf{1 шаг.} Строится <<начальное>> вероятностное пространство $(\Omega_0, {\cal F}_0, P_0(\cdot))$. 
\begin{itemize} 
\item $\omega_0 = (\omega_{1,0}, \omega_{2,0},\omega_{3,0})$, $\omega_{j,0} \in Z_+$. По своему смыслу $\omega_{j,0}$ есть количество требований в очереди $O_j$ в момент времени $\tau_0$.
\item ${\cal F}_0=2^{\Omega_0}$.
\item $P_0(\{(a_1,a_2,a_3)\})=~\varphi_1(a_1,h_T(\Gamma^{(k_0,r_0)})) \times \psi(a_2,x_{2,0}, p_{\tilde{k},\tilde{r}}) \times \times \varphi_3(a_3,h_T(\Gamma^{(k_0,r_0)}))$.
\end{itemize}

\framebreak
\textbf{2 шаг.} По индукции строится пространство $(\Omega_{n+1}, {\cal F}_{n+1}, P(\omega_0,\omega_1,\ldots, \omega_{n};\cdot))$.
\begin{itemize} 
\item $\omega_{n+1} = (\omega_{1,n+1}, \omega_{2,n+1},\omega_{3,n+1})$, $\omega_{j,n+1} \in Z_+$.  По своему смыслу $\omega_{j,n+1}$ есть количество требований в очереди $O_j$ в момент времени $\tau_{n+1}$.
\item ${\cal F}_{n+1}=2^{\Omega_{n+1}}$.
\item $P(\omega_0,\omega_1,\ldots,\omega_n;\{(a_1,a_2,a_3)\}) =  \varphi_1(a_1,h_T(\Gamma_n,x_{3,n})) \times \psi(a_2,x_{4,n}, p_{k^*,r^*}) \times \varphi_3(a_3,h_T(\Gamma_n,x_{3,n}))$.
\end{itemize}

\framebreak
\textbf{3 шаг.} По теореме Ионеску-Тулчи строится агрегированное вероятностное пространство $(\Omega, {\cal F}, {\mathbf P}(\cdot))$, где 
\begin{itemize}
\item $\Omega=\prod\limits_{i=0}^{\infty}\Omega_i$;
\item ${\cal F}=\bigotimes\limits_{i=0}^{\infty} {\cal F}_i$;
\item $ {\mathbf P}\{\omega \colon \omega_0 \in A_0, \omega_1 \in A_1, \ldots, \omega_i\in A_i\} = P_i(A_0 \times A_1 \times \ldots \times A_i)$

и

$ P_i(A_0 \times A_1 \times \ldots \times A_i) = \int_{A_0} P_0(d \omega_0) \int_{A_1} P(\omega_0;d \omega_1) \ldots \int_{A_i} P(\omega_0, \omega_1, \ldots, \omega_{i-1}; d \omega_i)$, $A_i \in {\cal F}_i$.
\end{itemize}



\end{frame}


\begin{frame}{Классический подход}
\begin{block}{}
Представлен, например, в работах А.~Эрланга, А.Я.~Хинчина, А.Н.~Колмогорова, Д.~Кендалла, Б.В.~Гнеденко.
\end{block}

  Требуется задать:
  \begin{itemize}
  \item \textbf{входной поток} в виде конечномерных распределений процесса $\{\eta(t) \colon t \geqslant 0\}$, где $\eta(t)$ есть число поступивших требований до момента времени $t$;
  \item \textbf{процесс обслуживания} в виде интегральной функции
    распределения длительности обслуживани произвольной заявки;
  \item \textbf{дисциплину формирования очереди} в виде словесного описания на
    содержательном уровне;
  \item \textbf{структуру системы} в виде словесного описания на
    содержательном уровне.
  \end{itemize}
\end{frame}


\begin{frame}{Асимптотический подход}
\begin{block}{}
Сформулирован и развивается в работах А.А.~Боровкова.
\end{block}

  Требуется задание \textbf{случайного процесса} \[\{(\eta(t),
  \nu(t), \zeta(t));t\geqslant0\}, \] где 
  \begin{itemize}
  \item $\eta(t)$ --- число поступивших заявок за промежуток $[0,t)$;
  \item $\nu(t)$ --- число получивших отказ заявок за промежуток $[0,t)$;
  \item $\zeta(t)$ --- число обслуженных заявок за промежуток $[0,t)$;
  \end{itemize}
  Основная цель --- изучение общих предельных свойств распределения
  длины очереди \[\eta(t)-\nu(t)-\zeta(t). \]
\end{frame}

\begin{frame}{Сложность перечисленных методов}
  \begin{itemize}
  \item Не удается решить проблему изучения \textbf{выходных потоков}.
    \bigskip
  \item Не удается рассмотреть \textbf{системы с немгновенным перемещением требований} между узлами и с зависимыми, разнораспределенными длительностями обслуживания требований.
  \end{itemize}
\end{frame}
\backupend

\end{document}
